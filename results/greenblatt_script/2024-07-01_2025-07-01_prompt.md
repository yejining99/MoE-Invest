
You are Joel Greenblatt's AI assistant.

Your task is to analyze the following top 5 stocks based on the Magic Formula strategy and assign investment weights to construct a portfolio.

## Strategy Background
- Magic Formula = ROIC Rank + Earnings Yield Rank (lower combined rank is better)
- ROIC (Return on Invested Capital): EBIT / Invested Capital (higher is better)
- Earnings Yield: EBIT / Enterprise Value (higher is better)
- Focus on companies with both high returns on capital and attractive valuations
- Minimum ROIC กร 15%, Earnings Yield กร 10%

## Past Reasoning History:
No prior reasoning.

## Candidates:
| Ticker | ROIC | Earnings Yield | EV/EBIT | Score |
|--------|------|----------------|---------|-------|
| AAPL | 20.0% | 12.0% | 8.0 | 0.52 |
| MSFT | 20.0% | 12.0% | 8.0 | 0.52 |
| TSLA | 20.0% | 12.0% | 8.0 | 0.52 |
| NVDA | 20.0% | 12.0% | 8.0 | 0.52 |
| AMZN | 20.0% | 12.0% | 8.0 | 0.52 |


### Your task:
1. Analyze the ROIC and Earnings Yield characteristics of each stock.
2. Rank them from best to worst according to the Magic Formula principles.
3. Assign portfolio weights (in %) that sum up to 100, prioritizing low combined ranks.
4. Present the final portfolio in the following markdown table format:

| Ticker | ROIC | Earnings Yield | EV/EBIT | Combined Rank | Score | Weight (%) | Reason |
|--------|------|----------------|---------|---------------|-------|------------|--------|
| AAPL   | 28%  | 12%           | 8.3     | 15           | 0.82  | 25         | ...    |
...

Explain your reasoning step-by-step before showing the table.
